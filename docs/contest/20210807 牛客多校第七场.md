# [2021牛客暑期多校训练营7](https://ac.nowcoder.com/acm/contest/11258)

| 排名                | 当场过题数 | 至今过题数 | 总题数 |
| ------------------- | ---------- | ---------- | ------ |
| 21/1294（校内3/19） | 4          | 4          | 11     |

## **A**

**upsolved by **

### 题意



### 题解



## **B**

**upsolved by **

### 题意



### 题解



## **C**

**upsolved by **

### 题意



### 题解



## **D**

**upsolved by **

### 题意



### 题解



## **E**

**upsolved by **

### 题意



### 题解



## **F**

**solved by JLK**

### 题意

给定两棵以1为根的树。找到最大的点集，使得在第一棵树上，点集联通，并且对于任意两个点，一个是另一个的祖先。而同时在第二棵树上，任意两个点不是祖先关系。输出最大点集大小。

$1 \le n \le 3\times 10^5$

### 题解

实际上就是在第一棵树的从根开始的一条链上选一个连续区间的点。考虑怎样会冲突，就是两个点在第二棵树的子树有交集，也就是在第二棵树上子树dfs序有交集。

利用主席树，可以在dfs第一棵树的同时找到和每个点最近的一个冲突祖先。就是以第二棵树的dfs序为下标，第一棵树上的深度为权值，每次区间取max和区间求max。得到这个之后，符合条件的区间一定是，区间里所有点的深度最大冲突点小于区间的最小深度。这可以用倍增来处理。

$O(nlogn)$

## **G**

**upsolved by **

### 题意



### 题解



## **H**

**solved by YZW**

### 题意



### 题解



## **I**

**solved by YZW**

### 题意



### 题解



## **J**

**upsolved by **

### 题意



### 题解



## **K**

**solved by TYB**

### 题意



### 题解



## **记录**

开局签HI。然后看其他题，都没有太可做的。（F题意读错了）

后来纠正了F题意，JLK冲了一发$O(nlog^2n)$​的写法，T了(1:31)。

又换了$O(nlogn)$​写法，WA1后AC(2:17)。期间TYB和YZW讨论K。

TYB写K，WA1后AC(3:47)。

B想到一个$O(n\sqrt n log n)$​做法，怕T没敢写。选择冲J，最后有一个树套树写法，没时间了，也怕T。

## **总结**

JLK：题目有点怪，也没什么办法。

## **Dirt**

F(-2)

K(-1)

