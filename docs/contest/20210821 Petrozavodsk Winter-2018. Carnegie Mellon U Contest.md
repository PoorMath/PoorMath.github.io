# [Petrozavodsk Winter-2018. Carnegie Mellon U Contest](http://opentrains.snarknews.info/~ejudge/team.cgi?SID=ff236d338dc11fcf&action=2&lt=1)

| 排名   | 当场过题数 | 至今过题数 | 总题数 |
| ------ | ---------- | ---------- | ------ |
| 61/157 | 6          | 7          | 11     |

## **A**

**solved by TYB**

### 题意



### 题解



## **B**

**solved by JLK**

### 题意



### 题解



## **C**

**solved by TYB**

### 题意



### 题解



## **D**

**upsolved by JLK**

### 题意

有一个无穷大的图，由无数个八边形组成，每个八边形的八条边由abc中的两个字母交替组成，而且每个点恰好连到三条字母不同的边上。给定一个字母序列，问从任意一个点出发，路径构成这个序列的路径，是否能够构成一个回路。

$1 \le len \le 10^5$

### 题解

看图可以发现，如果能构成回路，那么肯定在某个八边形内经过了连续的至少五条边。

从这里切入，那么每次对于ababa这样的五个连续交替序列，可以看做是bab（走劣弧）。同理，ababab可以看做ba，以此类推。八个连续交替可以直接消去。两个相同字母也可以直接消去（走一个来回）。

用栈来模拟，一直这样消去即可，最后如果能全部消去，就是回路。

在实现的时候遇到了问题，消去的时候需要把用来替换的串依次插入才能通过。比如ababa需要删去ababa，然后依次插入bab。原因未知。

## **E**

**upsolved by **

### 题意



### 题解



## **F**

**solved by YZW**

### 题意



### 题解



## **G**

**upsolved by **

### 题意



### 题解



## **H**

**solved by YZW**

### 题意



### 题解



## **I**

**upsolved by **

### 题意



### 题解



## **J**

**solved by JLK**

### 题意

定义长度为$k$的Zigzag序列$x$为：对于任意$1 \le i \le k-2$，$(x_i,x_{i+1},x_{i+2})$构成峰或者谷。

求两个序列的最长公共Zigzag序列。

$1 \le n,m \le 2000$

### 题解

考虑$O(n^4)$​​​的一个dp。$dp_{i,j,0/1}$​​​表示第一个以$i$​​结尾，第二个序列以$j$​​结尾，上升或下降的最长长度。

实际上，先枚举$i$​​，再枚举$j$​，就可以只记录$j$​了，因为$a_i$和$b_j$一定相同，由于枚举顺序，之前得到的$dp$值的$i$一定小于当前的$i$。那么现在就是记录$dp_{j,0/1}$表示目前已经转移到的状态中，第二个序列以$j$结尾，上升或下降的最长长度。这样是$O(n^3)$。

而对于指定的$i$，$a_i$是一定的，那么也就知道每个数需要转移到上升还是下降。$j$扫描的时候，将$b_j$和$a_i$比较，记录一下两个状态的前缀最大值，就可以直接转移了。

要特判长度为2的情况！！！

$O(nm)$

## **K**

**upsolved by **

### 题意



### 题解



## **记录**

H一开始就有人过了，但是全员降智，没想到方法。

JLK一开始觉得B可以用Splay做，打算扔了，但是看到榜上过的人很多，想了想可以简单实现，0:31过了。

F一开始也觉得实现较复杂，看到过的人很多，YZW开写，RE后AC(1:06)。

JLK嘴了一个C的做法给TYB写，AC(3:02)。

YZW写J，又发现复杂度不对，换JLK写，由于题意模糊和没有特判，WA4次后AC(3:28)。

一起看ADH。发现A是经典问题，TYB开始写。同时YZW想到H的一个写法（虽然还是麻烦了很多）。

H RE一次WA一次后AC(4:20)。

A WA一次后AC(4:26)。

然后一起看D，JLK尝试了一下，WA on 170，改了好几个地方都没变化，直到结束。

## **总结**

JLK:对经典问题/模型的把握不太充分。这场总体发挥不太好，有点降智。

## **Dirt**

A(-1)

F(-1)

H(-2)

J(-4)
