# [The 2020 ICPC Asia Macau Regional Contest](https://codeforces.com/gym/103119)

| 排名 | 当场过题数 | 至今过题数 | 总题数 |
| ---- | ---------- | ---------- | ------ |
| 3/51 | 8          | 8          | 12     |

## **A**

**solved by TYB**

### 题意



### 题解



## **B**

**upsolved by **

### 题意



### 题解



## **C**

**solved by YZW**

### 题意



### 题解



## **D**

**solved by JLK**

### 题意

原批模拟题，略

### 题解



## **E**

**solved by JLK**

### 题意

有$n$​个点$(i,h_i)$​以及$(0,0),(n+1,0)$​。相邻的点用折线相连，形成山的形状。在$n$​个点上各拍了一个照片，照片是以拍照点为中心，横$2W$​纵$2H$​的矩形。对于每个$k=1,2,\dots,n$，要选出$k$​张照片，使得照到山的面积的并集最大。求每个最大面积。

$1 \le n \le 200,1 \le W \le 5,1 \le H,h_i \le 10^4$

### 题解

看到$W$很小，很容易想到状压。

$dp_{i,j,S}$​表示前$i$​个点，选了$j$​​张照片，前9个点的选照片情况为$S$​，的最大面积。

对于确定的$i,S$，枚举前后$W$列，检查前面几个照片的情况，求出选上$i$的照片新增的面积即可。

$j$实际上和$i,S$独立，对于$i,S$算出面积后再枚举$j$转移即可。

$O(n^22^9)$

## **F**

**solved by YZW**

### 题意



### 题解



## **G**

**solved by TYB**

### 题意



### 题解



## **H**

**upsolved by **

### 题意



### 题解



## **I**

**upsolved by **

### 题意



### 题解



## **J**

**solved by JLK**

### 题意

有$n$个点排成一列，每个点有颜色$c_i$和权值$v_i$​的物品。$m$个操作：

1：单点修改颜色和权值。

2：询问。

从一个点$s$出发，往右走收集物品，但是同色的物品只能拿一个，而且跳过的物品不能超过$k$个。问最大权值。

$1 \le n,m \le 2 \times 10^5,1 \le c_i \le n,1 \le v_i \le 10^9,0 \le k \le 10$

### 题解

显然肯定是尽可能走到最右边。权值最大，就是对于相同颜色的物品，只取一个最大权值的。

注意到$k$很小，考虑暴力跳。

定义$nxt_i$​为$i$​点右边第一个颜色相同的点，用线段树维护区间最小$nxt$。

那么跳的时候相当于是找到一个最右边的$x$，使得$[s,x]$区间的$nxt_i$最小值为$x+1$（也可能直接跳到末尾了）。

可以在线段树上二分。找到一个$x$之后把当前冲突的那个点的$nxt$改成INF，就可以找下一个，最后恢复即可。

$O(nklogn)$

## **K**

**upsolved by **

### 题意



### 题解



## **L**

**solved by YZW**

### 题意



### 题解



## **记录**

YZW过L(0:11)。

JLK写D，WA一发后AC(0:48)。TYB和YZW讨论A。

TYB写A，JLK和YZW讨论E，发现YZW一开始读错题了，其实可做。

TYB过A(1:10)，JLK写E。

写完没过样例，YZW说F好写，先写F。

随后F WA两次，JLK改对了E(1:56)，接着YZW改对了F(1:57)。

JLK写J，WA了一次，对拍了一下又TLE，换TYB写G。

JLK改对了J(3:31)，然后TYB过了G(3:36)。

YZW开始搞C，JLK和TYB讨论BHK，没有什么进展。

YZW过了C(4:31)，然后下班。

## **总结**

JLK：这场先开了几个没人写的题，比较成功。还是应该多看题，少看榜。

## **Dirt**

D(-1)

F(-2)

J(-2)

